<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Untuk Sahabatku</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background-color: #D6E6F2;
      font-family: 'Segoe UI', sans-serif;
    }
    .typewriter {
      display: flex;
      justify-content: center;
    }
    .typewriter > span {
      display: inline-block;
      overflow-wrap: break-word;
      white-space: pre-wrap;
      font-size: 1.25rem;
      max-width: 80ch;
      text-align: center;
    }
    .falling {
      position: fixed;
      top: -50px;
      width: 10px;
      height: 10px;
      background: #ffffff;
      border-radius: 50%;
      animation: fall linear infinite;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh);
      }
    }
    .section-content {
      display: none;
      opacity: 0;
      transition: opacity 0.6s ease-in-out;
      text-align: center;
    }
    .section-content.active {
      display: block;
      opacity: 1;
    }
    @media (max-width: 640px) {
      .typewriter > span {
        font-size: 1rem;
        padding: 0 10px;
      }
    }

    .section-content {
      display: none;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .section-content.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }
    .section-content img {
      max-width: 100%;
      height: auto;
      max-height: 400px;
      object-fit: contain;
      border-radius: 1rem;
      margin-left: auto;
      margin-right: auto;
      transition: transform 0.3s ease;
    }

    .section-content img:hover {
      transform: scale(1.03);
    }


  </style>
</head>
<body class="text-[#4A4A4A]">
  <script>
    for (let i = 0; i < 40; i++) {
      const snow = document.createElement('div');
      snow.classList.add('falling');
      snow.style.left = `${Math.random() * 100}vw`;
      snow.style.animationDuration = `${5 + Math.random() * 5}s`;
      document.body.appendChild(snow);
    }
  </script>

  <div class="max-w-3xl mx-auto py-10 px-4">
    <button id="musicBtn" onclick="toggleMusic()" class="flex items-center gap-2 bg-[#C9A7EB] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 transition">
      <span id="musicIcon">üîà</span>
      <span id="musicLabel">Putar Musik</span>
    </button>  
    <div id="navButtons" class="flex justify-center items-center flex-wrap gap-4 mb-6" style="display: none;">
      <button onclick="prevSection()" class="flex items-center gap-2 bg-[#C9A7EB] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 active:scale-95 transition duration-200">
        ‚¨ÖÔ∏è <span>Back</span>
      </button>
      <button onclick="nextSection()" class="flex items-center gap-2 bg-[#A3D2CA] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 active:scale-95 transition duration-200">
        <span>Next</span> ‚è≠Ô∏è
      </button>
    </div>

    <div id="sections" class="space-y-10">
      <section id="opening" class="text-center">
        <h1 class="text-3xl font-bold text-[#C9A7EB] mb-6">Halo Shalma ‚ú®</h1>
        <p class="text-lg mb-4">Aku bikin sesuatu buat kamu.</p>
        <p class="text-lg mb-8">Cukup klik tombol di bawah untuk mulai yah.</p>
        <button onclick="startStory()" class="bg-[#A3D2CA] text-white px-6 py-3 rounded-full shadow-md hover:scale-105 active:scale-95 transition text-lg">
          üíå Start
        </button>
      </section>
      <section class="section-content">
        <h1 class="text-3xl text-center font-semibold text-[#C9A7EB] mb-4">Untuk Sahabatku</h1>
        <img src="C:\Users\irsya\Desktop\ProjectBday\assets\cake.jpeg" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="text-center text-lg mb-8">
          Umur kamu sekarang: <span id="age"></span> tahun ‚Ä¢ Kita sudah berteman selama <span id="friendship"></span> tahun
        </p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Tentang Hari Ini</h2>
        <img src="C:\Users\irsya\Desktop\ProjectBday\assets\cake.jpeg" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Hal-hal yang Aku Syukuri</h2>
        <img src="C:\Users\irsya\Desktop\ProjectBday\assets\mountain.jpeg" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Kenangan Kita</h2>
        <img src="C:\Users\irsya\Desktop\ProjectBday\assets\cake.jpeg" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Harapanku Buat Kamu</h2>
        <img src="C:\Users\irsya\Desktop\ProjectBday\assets\cake.jpeg" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Penutup</h2>
        <img src="C:\Users\irsya\Desktop\ProjectBday\assets\cake.jpeg" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Sampai Jumpa Lagi</h2>
        <img src="C:\Users\irsya\Desktop\ProjectBday\assets\cake.jpeg" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
    </div>

    <audio id="bgMusic" src="C:\Users\irsya\Desktop\ProjectBday\assets\audio.mpeg" autoplay loop muted></audio>

  </div>

  <script>
    const ageEl = document.getElementById('age');
    const friendEl = document.getElementById('friendship');

    const birthYear = 1999;
    const startYear = 2011;
    const currentYear = new Date().getFullYear();

    ageEl.innerText = currentYear - birthYear;
    friendEl.innerText = currentYear - startYear;

    function toggleMusic() {
    const music = document.getElementById('bgMusic');
    const icon = document.getElementById('musicIcon');
    const label = document.getElementById('musicLabel');

    if (music.paused || music.muted) {
      music.muted = false;
      music.play();
      icon.innerText = 'üîä';
      label.innerText = 'Pause Musik';
    } else {
      music.pause();
      icon.innerText = 'üîà';
      label.innerText = 'Putar Musik';
    }
  }



    let currentSection = 0;
    const sections = document.querySelectorAll('.section-content');
    const typewriters = document.querySelectorAll('.typewriter span');

    const messages = [
      "Hari ini kamu sudah tumbuh menjadi seseorang yang luar biasa. Dunia beruntung karena kamu ada di dalamnya.",
      "Terima kasih karena selalu jadi pendengar yang baik, penyejuk di saat gelisah, dan sosok yang begitu luar biasa.",
      "Sejak 2011, terlalu banyak tawa, air mata dan cerita yang kita lalui. Terima kasih sudah ada selama itu.",
      "Aku harap tahun ini dan kedepannya langkahmu selalu ringan, hatimu tenang, dan hidupmu penuh dengan kebahagian .",
      "Terima kasih karena sudah jadi bagian penting dalam hidupku. Semoga kita tetap saling mendoakan meski tak selalu bicara.",
      "Kapan pun kamu membuka halaman ini lagi, aku akan tetap menyambutmu dengan hangat. Sampai ketemu di tahun berikutnya ü§ç"
    ];

    function updateNavButtons() {
      const backBtn = document.querySelector('#navButtons button:first-child');
      if (currentSection === 0) {
        backBtn.style.display = 'none';
      } else {
        backBtn.style.display = 'flex';
      }
    }


    function nextSection() {
      sections[currentSection].classList.remove('active');

      currentSection++;

      // Kalau sudah lewat section terakhir, kembali ke opening
      if (currentSection >= sections.length) {
        currentSection = 0;
        document.getElementById('navButtons').style.display = 'none';
        document.getElementById('opening').style.display = 'block';
        return;
      }

      sections[currentSection].classList.add('active');

      if (currentSection > 0 && currentSection < sections.length) {
        const el = typewriters[currentSection - 1];
        el.innerText = '';
        const fullText = messages[currentSection - 1];
        let i = 0;
        const interval = setInterval(() => {
          el.textContent += fullText.charAt(i);
          i++;
          if (i === fullText.length) clearInterval(interval);
        }, 50);
      }

      updateNavButtons();
    }

    function startStory() {
      document.getElementById('opening').style.display = 'none';
      sections[currentSection].classList.add('active');
      document.getElementById('navButtons').style.display = 'flex';
      updateNavButtons();
    }


    function prevSection() {
      sections[currentSection].classList.remove('active');
      currentSection = (currentSection - 1 + sections.length) % sections.length;
      sections[currentSection].classList.add('active');

      if (currentSection > 0 && currentSection < sections.length) {
        const el = typewriters[currentSection - 1];
        el.innerText = '';
        const fullText = messages[currentSection - 1];
        let i = 0;
        const interval = setInterval(() => {
          el.textContent += fullText.charAt(i);
          i++;
          if (i === fullText.length) clearInterval(interval);
        }, 50); // Bisa kamu ubah sesuai tempo yang kamu suka
      }

      updateNavButtons();
    }


    window.addEventListener('load', () => {
      const music = document.getElementById('bgMusic');
      music.muted = true;
    });
  </script>
</body>
</html>