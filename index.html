<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Untuk Sahabatku</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background-color: #D6E6F2;
      font-family: 'Segoe UI', sans-serif;
    }
    .typewriter {
      display: flex;
      justify-content: center;
    }
    .typewriter > span {
      display: inline-block;
      overflow-wrap: break-word;
      white-space: pre-wrap;
      font-size: 1.25rem;
      max-width: 80ch;
      text-align: center;
    }
    .falling {
      position: fixed;
      top: -50px;
      width: 10px;
      height: 10px;
      background: #ffffff;
      border-radius: 50%;
      animation: fall linear infinite;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh);
      }
    }
    .section-content {
      display: none;
      opacity: 0;
      transition: opacity 0.6s ease-in-out;
      text-align: center;
    }
    .section-content.active {
      display: block;
      opacity: 1;
    }
    @media (max-width: 640px) {
      .typewriter > span {
        font-size: 1rem;
        padding: 0 10px;
      }
    }
  </style>
</head>
<body class="text-[#4A4A4A]">
  <script>
    for (let i = 0; i < 40; i++) {
      const snow = document.createElement('div');
      snow.classList.add('falling');
      snow.style.left = `${Math.random() * 100}vw`;
      snow.style.animationDuration = `${5 + Math.random() * 5}s`;
      document.body.appendChild(snow);
    }
  </script>

  <div class="max-w-3xl mx-auto py-10 px-4">
    <div class="flex justify-center items-center flex-wrap gap-4 mb-6">
      <button onclick="nextSection()" class="bg-[#A3D2CA] text-white px-6 py-2 rounded-full shadow-md hover:scale-105 transition">Klik untuk Lanjut</button>
      <button onclick="playMusic()" class="bg-[#C9A7EB] text-white px-4 py-2 rounded-full shadow-md hover:scale-105 transition">Putar Musik</button>
    </div>

    <div id="sections" class="space-y-10">
      <section class="section-content active">
        <h1 class="text-3xl text-center font-semibold text-[#C9A7EB] mb-4">Untuk Sahabatku Shalma</h1>
        <p class="text-center text-lg mb-8">
          Umur kamu sekarang: <span id="age"></span> tahun â€¢ Kita sudah berteman selama <span id="friendship"></span> tahun
        </p>
        <p class="text-center text-xl">Klik tombol di atas untuk mulai membaca...</p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Tentang Hari Ini</h2>
        <img src="https://images.unsplash.com/photo-1575936123452-b67c3203c357?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8aW1hZ2V8ZW58MHx8MHx8fDA%3D" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Hal-hal yang Aku Syukuri</h2>
        <img src="https://source.unsplash.com/400x200/?gratitude" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Kenangan Kita</h2>
        <img src="https://source.unsplash.com/400x200/?friends" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Harapanku Buat Kamu</h2>
        <img src="https://source.unsplash.com/400x200/?hope" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Penutup</h2>
        <img src="https://source.unsplash.com/400x200/?thankyou" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
      <section class="section-content">
        <h2 class="text-2xl font-bold text-[#A3D2CA] mb-4">Sampai Jumpa Lagi</h2>
        <img src="https://source.unsplash.com/400x200/?goodbye" alt="" class="rounded-xl mb-3 mx-auto" />
        <p class="typewriter"><span></span></p>
      </section>
    </div>

    <audio id="bgMusic" src="music.mp3" autoplay loop></audio>
  </div>

  <script>
    const ageEl = document.getElementById('age');
    const friendEl = document.getElementById('friendship');

    const birthYear = 1999;
    const startYear = 2011;
    const currentYear = new Date().getFullYear();

    ageEl.innerText = currentYear - birthYear;
    friendEl.innerText = currentYear - startYear;

    function playMusic() {
      const music = document.getElementById('bgMusic');
      music.muted = false;
      music.play();
    }

    let currentSection = 0;
    const sections = document.querySelectorAll('.section-content');
    const typewriters = document.querySelectorAll('.typewriter span');

    const messages = [
      "Hari ini kamu sudah tumbuh menjadi seseorang yang luar biasa. Dunia beruntung karena kamu ada di dalamnya.",
      "Terima kasih karena selalu jadi pendengar yang baik, penyejuk di saat gelisah, dan sosok yang apa adanya.",
      "Sejak 2011, terlalu banyak tawa dan cerita yang kita lalui. Terima kasih sudah ada selama itu.",
      "Aku harap langkahmu selalu ringan, hatimu tenang, dan hidupmu penuh cinta yang hangat.",
      "Terima kasih karena sudah jadi bagian penting dalam hidupku. Semoga kita tetap saling mendoakan meski tak selalu bicara.",
      "Kapan pun kamu membuka halaman ini lagi, aku akan tetap menyambutmu dengan hangat. Sampai ketemu di klik berikutnya ðŸ¤"
    ];

    function nextSection() {
      sections[currentSection].classList.remove('active');
      currentSection = (currentSection + 1) % sections.length;
      sections[currentSection].classList.add('active');

      if (currentSection > 0 && currentSection < sections.length) {
        const el = typewriters[currentSection - 1];
        el.innerText = '';
        const fullText = messages[currentSection - 1];
        let i = 0;
        const interval = setInterval(() => {
          el.textContent += fullText.charAt(i);
          i++;
          if (i === fullText.length) clearInterval(interval);
        }, 30);
      }
    }

    window.addEventListener('load', () => {
      const music = document.getElementById('bgMusic');
      music.muted = true;
    });
  </script>
</body>
</html>
